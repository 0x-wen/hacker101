<!DOCTYPE html>
<html class="bg-dark" lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body class="d-flex flex-column vh-100">

    {%- include header.html -%}

    <main role="main" class="flex-grow-1 bg-black text-light">
      {{ content }}
    </main>

    {%- include footer.html -%}

    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', '{{ site.google_analytics }}');
    </script>
    <script type="text/javascript">
      $(document).ready(function() {
        var darkModeOff = localStorage.getItem('darkModeOff');

        var toggleDarkMode = function() {
          $("#mode-light,#mode-dark").toggleClass("d-none");

          $("main.bg-white,main.bg-black,main .bg-white,main .bg-black").toggleClass("bg-black text-light bg-white");
          $("main .bg-light,main .bg-dark").toggleClass("bg-dark text-light bg-light");
          $("main .bg-lighter,main .bg-darker").toggleClass("bg-darker text-light bg-lighter");
        };

        if (darkModeOff) {
          toggleDarkMode();
        }

        $(".mode-toggle").click(function() {
          toggleDarkMode();

          if (localStorage.getItem('darkModeOff')) {
            localStorage.clear();
          } else {
            localStorage.setItem('darkModeOff', true);
          }
        })
      });
    </script>
  </body>
</html>
